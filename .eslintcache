[{"D:\\projects\\Finance\\web\\src\\pages\\Category\\index.tsx":"1","D:\\projects\\Finance\\web\\src\\App.tsx":"2","D:\\projects\\Finance\\web\\src\\hooks\\ModalContext.tsx":"3","D:\\projects\\Finance\\web\\src\\pages\\Expenses\\index.tsx":"4","D:\\projects\\Finance\\web\\src\\components\\ToastContainer\\Toast\\styles.ts":"5","D:\\projects\\Finance\\web\\src\\index.tsx":"6","D:\\projects\\Finance\\web\\src\\hooks\\index.tsx":"7","D:\\projects\\Finance\\web\\src\\components\\Menu\\index.tsx":"8","D:\\projects\\Finance\\web\\src\\hooks\\ToastContext.tsx":"9","D:\\projects\\Finance\\web\\src\\pages\\Dashboard\\index.tsx":"10","D:\\projects\\Finance\\web\\src\\pages\\Expenses\\styles.ts":"11","D:\\projects\\Finance\\web\\src\\components\\Input\\index.tsx":"12","D:\\projects\\Finance\\web\\src\\components\\Card\\styles.ts":"13","D:\\projects\\Finance\\web\\src\\components\\Tooltip\\styles.ts":"14"},{"size":4021,"mtime":1611008126021,"results":"15","hashOfConfig":"16"},{"size":693,"mtime":1611147677172,"results":"17","hashOfConfig":"16"},{"size":896,"mtime":1610286298481,"results":"18","hashOfConfig":"16"},{"size":7463,"mtime":1610806588962,"results":"19","hashOfConfig":"16"},{"size":1192,"mtime":1610282018491,"results":"20","hashOfConfig":"16"},{"size":550,"mtime":1611146366458,"results":"21","hashOfConfig":"16"},{"size":289,"mtime":1610285899699,"results":"22","hashOfConfig":"16"},{"size":714,"mtime":1610626250718,"results":"23","hashOfConfig":"16"},{"size":1477,"mtime":1610136994480,"results":"24","hashOfConfig":"16"},{"size":1645,"mtime":1610217718154,"results":"25","hashOfConfig":"16"},{"size":2303,"mtime":1610627505367,"results":"26","hashOfConfig":"16"},{"size":1606,"mtime":1610713463495,"results":"27","hashOfConfig":"16"},{"size":1052,"mtime":1610390032720,"results":"28","hashOfConfig":"16"},{"size":743,"mtime":1610118232285,"results":"29","hashOfConfig":"16"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"32","usedDeprecatedRules":"33"},"zrdy1w",{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"36","messages":"37","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"38","messages":"39","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"57","messages":"58","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"D:\\projects\\Finance\\web\\src\\pages\\Category\\index.tsx",["61","62","63"],"import React, { useCallback, useEffect, useState } from 'react';\nimport { RiMenuAddFill } from 'react-icons/ri';\nimport { MdCreate } from 'react-icons/md';\nimport { Form } from '@unform/web';\nimport api from '../../services/api';\n\nimport { Container, Content, AddButton, Overlay } from './styles';\nimport Modal from '../../components/Modal';\nimport Input from '../../components/Input';\nimport Button from '../../components/Button';\nimport { useModal } from '../../hooks/ModalContext';\nimport { useToast } from '../../hooks/ToastContext';\nimport Card from '../../components/Card';\n\ninterface CategoryData {\n  name: string;\n  id: string;\n  expenses_count: number;\n  total_price: number;\n  total_percentage: number;\n}\n\nconst Category: React.FC = () => {\n  const { toggleModal, isModalOpen } = useModal();\n\n  const { addToast } = useToast();\n\n  const [categories, setCategories] = useState<CategoryData[]>([]);\n  const [categorySelected, setCategorySelected] = useState<CategoryData>(\n    {} as CategoryData,\n  );\n\n  useEffect(() => {\n    api.get<CategoryData[]>('/category').then(response => {\n      setCategories(response.data);\n    });\n  }, []);\n\n  const handleCategorySelect = useCallback(\n    (category: CategoryData) => {\n      setCategorySelected(category);\n      toggleModal();\n    },\n    [toggleModal],\n  );\n\n  const handleNewCategory = useCallback(() => {\n    setCategorySelected({} as CategoryData);\n    toggleModal();\n  }, [toggleModal]);\n\n  const handleSubmit = useCallback(\n    (data: CategoryData) => {\n      console.log('submit', data);\n\n      if (categorySelected.id) {\n        api\n          .put('/category', { name: data.name, id: categorySelected.id })\n          .then(response => {\n            addToast({\n              type: 'success',\n              title: 'Categoria cadastrada com sucesso',\n            });\n\n            setCategories([\n              ...categories.filter(\n                category => category.id !== categorySelected.id,\n              ),\n              response.data,\n            ]);\n          });\n\n        toggleModal();\n      } else {\n        try {\n          api.post('/category', data).then(response => {\n            addToast({\n              type: 'success',\n              title: 'Categoria cadastrada com sucesso',\n            });\n\n            setCategories([...categories, response.data]);\n          });\n\n          toggleModal();\n        } catch (error) {\n          console.log(error);\n        }\n      }\n    },\n    [addToast, categories, categorySelected.id, toggleModal],\n  );\n\n  return (\n    <Container>\n      <Overlay isModalOpen={isModalOpen ? 1 : 0} />\n      <h1>Categories</h1>\n      <Content>\n        {categories.map(category => (\n          <Card\n            key={category.id}\n            title={category.name}\n            handleEdit={() => {\n              handleCategorySelect(category);\n            }}\n            handleDelete={() => {\n              console.log('delete');\n            }}\n          >\n            <h4>Despesas</h4>\n            <p>\n              Total:\n              {category.expenses_count}\n            </p>\n            <p>\n              Valor: R$\n              {category.total_price}\n            </p>\n            <p> {category.total_percentage ? category.total_percentage : 0}%</p>\n          </Card>\n        ))}\n\n        <AddButton onClick={handleNewCategory}>\n          <MdCreate />\n        </AddButton>\n\n        {isModalOpen && (\n          <Modal\n            title={\n              categorySelected.id ? 'Editar Categoria' : 'Adicionar Categoria'\n            }\n          >\n            <Form\n              initialData={{\n                name: categorySelected.name,\n              }}\n              onSubmit={handleSubmit}\n            >\n              <Input\n                icon={RiMenuAddFill}\n                name=\"name\"\n                placeholder=\"Nome da categoria\"\n              />\n              <Button type=\"submit\">Salvar</Button>\n            </Form>\n          </Modal>\n        )}\n      </Content>\n    </Container>\n  );\n};\n\nexport default Category;\n",["64","65","66","67","68"],"D:\\projects\\Finance\\web\\src\\App.tsx",[],"D:\\projects\\Finance\\web\\src\\hooks\\ModalContext.tsx",["69","70"],"D:\\projects\\Finance\\web\\src\\pages\\Expenses\\index.tsx",["71","72","73","74","75","76"],"D:\\projects\\Finance\\web\\src\\components\\ToastContainer\\Toast\\styles.ts",[],["77","78","79","80","81"],"D:\\projects\\Finance\\web\\src\\index.tsx",[],"D:\\projects\\Finance\\web\\src\\hooks\\index.tsx",[],"D:\\projects\\Finance\\web\\src\\components\\Menu\\index.tsx",[],"D:\\projects\\Finance\\web\\src\\hooks\\ToastContext.tsx",[],"D:\\projects\\Finance\\web\\src\\pages\\Dashboard\\index.tsx",[],"D:\\projects\\Finance\\web\\src\\pages\\Expenses\\styles.ts",[],"D:\\projects\\Finance\\web\\src\\components\\Input\\index.tsx",[],"D:\\projects\\Finance\\web\\src\\components\\Card\\styles.ts",["82","83"],"D:\\projects\\Finance\\web\\src\\components\\Tooltip\\styles.ts",[],{"ruleId":"84","severity":1,"message":"85","line":54,"column":7,"nodeType":"86","messageId":"87","endLine":54,"endColumn":18},{"ruleId":"84","severity":1,"message":"85","line":87,"column":11,"nodeType":"86","messageId":"87","endLine":87,"endColumn":22},{"ruleId":"84","severity":1,"message":"85","line":107,"column":15,"nodeType":"86","messageId":"87","endLine":107,"endColumn":26},{"ruleId":"88","replacedBy":"89"},{"ruleId":"90","replacedBy":"91"},{"ruleId":"92","replacedBy":"93"},{"ruleId":"94","replacedBy":"95"},{"ruleId":"96","replacedBy":"97"},{"ruleId":"98","severity":1,"message":"99","line":2,"column":8,"nodeType":"100","messageId":"101","endLine":2,"endColumn":13},{"ruleId":"98","severity":1,"message":"102","line":4,"column":11,"nodeType":"100","messageId":"101","endLine":4,"endColumn":21},{"ruleId":"98","severity":1,"message":"103","line":2,"column":10,"nodeType":"100","messageId":"101","endLine":2,"endColumn":13},{"ruleId":"84","severity":1,"message":"85","line":111,"column":7,"nodeType":"86","messageId":"87","endLine":111,"endColumn":18},{"ruleId":"84","severity":1,"message":"85","line":118,"column":9,"nodeType":"86","messageId":"87","endLine":118,"endColumn":20},{"ruleId":"98","severity":1,"message":"104","line":141,"column":19,"nodeType":"100","messageId":"101","endLine":141,"endColumn":27},{"ruleId":"84","severity":1,"message":"85","line":152,"column":11,"nodeType":"86","messageId":"87","endLine":152,"endColumn":22},{"ruleId":"105","severity":1,"message":"106","line":156,"column":5,"nodeType":"107","endLine":156,"endColumn":56,"suggestions":"108"},{"ruleId":"88","replacedBy":"109"},{"ruleId":"90","replacedBy":"110"},{"ruleId":"92","replacedBy":"111"},{"ruleId":"94","replacedBy":"112"},{"ruleId":"96","replacedBy":"113"},{"ruleId":"98","severity":1,"message":"114","line":1,"column":10,"nodeType":"100","messageId":"101","endLine":1,"endColumn":15},{"ruleId":"98","severity":1,"message":"115","line":3,"column":10,"nodeType":"100","messageId":"101","endLine":3,"endColumn":18},"no-console","Unexpected console statement.","MemberExpression","unexpected","lines-around-directive",["116"],"global-require",[],"no-buffer-constructor",[],"no-new-require",[],"no-path-concat",[],"@typescript-eslint/no-unused-vars","'Modal' is defined but never used.","Identifier","unusedVar","'ModalProps' is defined but never used.","'get' is defined but never used.","'response' is defined but never used.","react-hooks/exhaustive-deps","React Hook useCallback has a missing dependency: 'expenseSelected'. Either include it or remove the dependency array.","ArrayExpression",["117"],["116"],[],[],[],[],"'shade' is defined but never used.","'inherits' is defined but never used.","padding-line-between-statements",{"desc":"118","fix":"119"},"Update the dependencies array to be: [addToast, expenseSelected, isPaid, toggleModal]",{"range":"120","text":"121"},[3699,3750],"[addToast, expenseSelected, isPaid, toggleModal]"]